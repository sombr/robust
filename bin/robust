#!/usr/bin/env plackup
# vim: ft=perl
package psgi::robust;
use strict;
use warnings;

use lib 'lib';

use Plack::Builder;

use Robust::Controller::Class;

builder {
    enable "Plack::Middleware::AccessLog::Timed", format => '%{X_FORWARDED_FOR}i %h %l %u %t "%r" %>s %b "%{Referer}i" "%{User-agent}i"';
    mount "/"      => sub { Robust::Controller::Class->new(shift)->index },
    mount "/class" => sub { Robust::Controller::Class->new(shift)->show },
};
